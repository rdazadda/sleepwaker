---
title: "Getting Started with sleepwaker"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with sleepwaker}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---
```{r setup, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

# Introduction

**sleepwaker** inverts sleep periods to wake periods from accelerometry data particularly Actigraph Data.

## The Problem

24-hour accelerometry analysis includes sleep, which inflates sedentary time estimates, how then can we exclude sleep completely and focus on wake periods?

## The Solution

Convert sleep periods to wake periods to analyze waking behavior only.

# Installation
```{r install, eval=FALSE}
devtools::install_github("rdazadda/sleepwaker")
```
```{r load}
library(sleepwaker)
```

# Basic Usage

## Example Data
```{r data}
batch_data <- data.frame(
  "Subject Name" = c("P001", "P001", "P002"),
  "In Bed Time" = c("10/12/2024 11:00:00 PM", "10/13/2024 10:45:00 PM",
                    "10/12/2024 10:30:00 PM"),
  "Out Bed Time" = c("10/13/2024 07:00:00 AM", "10/14/2024 06:45:00 AM",
                     "10/13/2024 06:30:00 AM"),
  check.names = FALSE
)
```

## Convert to Wake Periods
```{r convert}
wake_periods <- sleepwaker(batch_data, 
                           input.type = "raw", 
                           output.type = "wake")
wake_periods
```

## Save to File
```{r save, eval=FALSE}
wake_periods <- sleepwaker(batch_data, 
                           input.type = "raw", 
                           output.type = "wake",
                           output.file = "wake_periods.csv")
```

# Workflow

1. Export sleep data from ActiGraph ActiLife
2. Load in R: `data <- read_csv("BatchSleepExport.csv")`
3. Convert: `wake_periods <- sleepwaker(data, input.type = "raw", output.type = "wake")`
4. Use wake periods in your analysis

# Getting Help

- Function help: `?sleepwaker`
- Report issues: [GitHub](https://github.com/rdazadda/sleepwaker/issues)
